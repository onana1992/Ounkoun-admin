"use strict";angular.module("template/flyout/flyout.html",[]).run(["$templateCache",function(t){t.put("template/flyout/flyout.html",'<div class="flyout-navigation"ng-class="{\'reveal\': flyoutCtrl.isVisible()}"ng-mouseleave="flyoutCtrl.mouseleaveMenu();"><ul class="flyout-dropdown list-unstyled"role="menu"ng-transclude></ul></div>')}]),angular.module("template/flyout/flyout-item.html",[]).run(["$templateCache",function(t){t.put("template/flyout/flyout-item.html",'<li class="flyout-list-item" ng-transclude></li>')}]),angular.module("template/flyout/flyout-popover.html",[]).run(["$templateCache",function(t){t.put("template/flyout/flyout-popover.html",'<div class="{{ getSelector() }}"ng-class="{\'reveal\': getActiveRow() === $index}"ng-transclude></div>')}]),angular.module("template/flyout/flyout-link.html",[]).run(["$templateCache",function(t){t.put("template/flyout/flyout-link.html",'<a href="" ng-mouseenter="mouseenterRow($index)" ng-mouseleave="mouseleaveRow($index)" ng-click="clickRow($index);" ng-transclude></a>')}]),angular.module("neilff.flyout-tpls",["ng","template/flyout/flyout.html","template/flyout/flyout-item.html","template/flyout/flyout-popover.html","template/flyout/flyout-link.html"]).factory("flyoutPopover",[function(){return function(t,e,o,n){var l=n[0];angular.extend(t,{getActiveRow:l.getActiveRow,getSelector:l.getSelector})}}]).factory("flyoutLink",[function(){return function(t,e,o,n){var l=n[0];angular.extend(t,{mouseenterRow:l.mouseenterRow,mouseleaveRow:l.mouseleaveRow,clickRow:l.clickRow})}}]).factory("menuAim",[function(){function t(t,e,o){function l(t,e){return(e.y-t.y)/(e.x-t.x)}var u=null;if(!t)return 0;var i=e.offset(),r={x:i.left,y:i.top-o.tolerance},a={x:i.left+e.outerWidth(),y:r.y},c={x:i.left,y:i.top+e.outerHeight()+o.tolerance},f={x:i.left+e.outerWidth(),y:c.y},m=n[n.length-1],s=n[0];if(!m)return 0;if(s||(s=m),s.x<i.left||s.x>f.x||s.y<i.top||s.y>f.y)return 0;if(u&&m.x===u.x&&m.y===u.y)return 0;var y=a,v=f;"left"===o.submenuDirection?(y=c,v=r):"below"===o.submenuDirection?(y=f,v=c):"above"===o.submenuDirection&&(y=r,v=a);var p=l(m,y),d=l(m,v),g=l(s,y),h=l(s,v);return g>p&&d>h?(u=m,o.delay):(u=null,0)}function e(t){n.push({x:t.pageX,y:t.pageY}),n.length>l&&n.shift()}function o(){return n}var n=[],l=3;return{activationDelay:t,setMouseLocs:e,getMouseLocs:o}}]).directive("flyoutItem",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:!0,templateUrl:"template/flyout/flyout-item.html"}}]).directive("flyoutLink",["flyoutLink",function(t){return{restrict:"E",transclude:!0,replace:!0,require:["^flyoutNavigation"],scope:!0,templateUrl:"template/flyout/flyout-link.html",link:t}}]).directive("flyoutPopover",["flyoutPopover",function(t){return{restrict:"E",transclude:!0,replace:!0,require:["^flyoutNavigation"],scope:!0,templateUrl:"template/flyout/flyout-popover.html",link:t}}]).directive("flyoutNavigation",[function(){return{restrict:"E",scope:{visible:"=",tolerance:"=",delay:"=",direction:"=",enter:"=",exit:"=",activate:"=",deactivate:"=",exitmenu:"=exitmenu",selector:"@"},transclude:!0,replace:!0,templateUrl:"template/flyout/flyout.html",controllerAs:"flyoutCtrl",controller:"FlyoutController"}}]).controller("FlyoutController",["$element","$scope","menuAim",function(t,e,o){function n(){M=!0,$.find("."+e.selector).css("min-height",$.outerHeight())}function l(){A&&clearTimeout(A),L.exitmenu(this)&&(b.activeRow&&L.deactivate(b.activeRow),b.activeRow=null)}function u(t){A&&clearTimeout(A),L.enter(t),m(t)}function i(t){L.exit(t)}function r(t){f(t)}function a(){e.visible=!1}function c(){e.visible=!0}function f(t){t!==b.activeRow&&(b.activeRow&&L.deactivate(b.activeRow),L.activate(t),b.activeRow=t)}function m(t){var e=o.activationDelay(b.activeRow,C,L);e?A=setTimeout(function(){m(t)},e):f(t)}function s(){return b.activeRow}function y(){return e.selector}function v(){return e.delay||1e3}function p(){return e.tolerance||500}function d(){return e.direction||"right"}function g(){return e.enter||function(){M||n()}}function h(){return e.exit||angular.noop}function w(){return e.activate||function(){M||n()}}function x(){return e.exitmenu||function(){return a(),!0}}function R(){return e.deactivate||angular.noop}function k(){return e.visible||!1}e.selector=e.selector||"popover";var b=this,$=t,C=$.find(".flyout-dropdown");!function(){document.addEventListener("mousemove",o.setMouseLocs),angular.extend(b,{mouseleaveMenu:l,mouseenterRow:u,mouseleaveRow:i,clickRow:r,closeMenu:a,openMenu:c,getActiveRow:s,getSelector:y,isVisible:k})}();var A=null,L={submenuDirection:d(),tolerance:p(),delay:v(),enter:g(),exit:h(),activate:w(),deactivate:R(),exitmenu:x()},M=!1}]);